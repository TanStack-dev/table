---
source-updated-at: '2024-03-28T21:06:30.000Z'
translation-updated-at: '2025-05-05T19:24:20.984Z'
title: FAQ
---
## ç„¡é™ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ã‚’é˜²ãæ–¹æ³•

Reactã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ç„¡é™ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’å¼•ãèµ·ã“ã™éå¸¸ã«ä¸€èˆ¬çš„ãªè½ã¨ã—ç©´ãŒã‚ã‚Šã¾ã™ã€‚`columns`ã€`data`ã€ã¾ãŸã¯`state`ã«å®‰å®šã—ãŸå‚ç…§ã‚’æä¾›ã—ãªã„ã¨ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®çŠ¶æ…‹ãŒå¤‰æ›´ã•ã‚Œã‚‹ãŸã³ã«ReactãŒç„¡é™ã«å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚

ãªãœã“ã‚ŒãŒèµ·ã“ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿã“ã‚Œã¯TanStack Tableã®ãƒã‚°ã§ã—ã‚‡ã†ã‹ï¼Ÿ**ã„ã„ãˆ**ã€ãã†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚*ã“ã‚Œã¯Reactã®åŸºæœ¬çš„ãªå‹•ä½œ*ã§ã‚ã‚Šã€columnsã€dataã€stateã‚’é©åˆ‡ã«ç®¡ç†ã™ã‚‹ã“ã¨ã§é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚

TanStack Tableã¯ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã«æ¸¡ã•ã‚Œã‚‹`data`ã¾ãŸã¯`columns`ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã€ã¾ãŸã¯ãƒ†ãƒ¼ãƒ–ãƒ«ã®çŠ¶æ…‹ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

> `columns`ã‚„`data`ã«å®‰å®šã—ãŸå‚ç…§ã‚’æä¾›ã—ãªã„ã¨ã€ç„¡é™ã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

### è½ã¨ã—ç©´1: æ¯å›ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã§æ–°ã—ã„columnsã‚„dataã‚’ä½œæˆã™ã‚‹

```js
export default function MyComponent() {
  //ğŸ˜µ æ‚ªã„ä¾‹: `columns`ãŒæ¯å›ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã§æ–°ã—ã„é…åˆ—ã¨ã—ã¦å†å®šç¾©ã•ã‚Œã‚‹ãŸã‚ã€ç„¡é™ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ãŒç™ºç”Ÿã—ã¾ã™ï¼
  const columns = [
    // ...
  ];

  //ğŸ˜µ æ‚ªã„ä¾‹: `data`ãŒæ¯å›ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã§æ–°ã—ã„é…åˆ—ã¨ã—ã¦å†å®šç¾©ã•ã‚Œã‚‹ãŸã‚ã€ç„¡é™ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ãŒç™ºç”Ÿã—ã¾ã™ï¼
  const data = [
    // ...
  ];

  //âŒ columnsã¨dataãŒ`useReactTable`ã¨åŒã˜ã‚¹ã‚³ãƒ¼ãƒ—ã§å®šç¾©ã•ã‚Œã¦ãŠã‚Šã€å®‰å®šã—ãŸå‚ç…§ãŒãªã„ãŸã‚ã€ç„¡é™ãƒ«ãƒ¼ãƒ—ãŒç™ºç”Ÿã—ã¾ã™ï¼
  const table = useReactTable({
    columns,
    data,
  });

  return <table>...</table>;
}
```

### è§£æ±ºç­–1: useMemoã¾ãŸã¯useStateã§å®‰å®šã—ãŸå‚ç…§ã‚’æä¾›ã™ã‚‹

Reactã§ã¯ã€å¤‰æ•°ã«ã€Œå®‰å®šã—ãŸã€å‚ç…§ã‚’æä¾›ã™ã‚‹ãŸã‚ã«ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤–å´/ä¸Šéƒ¨ã§å®šç¾©ã™ã‚‹ã‹ã€`useMemo`ã‚„`useState`ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆReduxã‚„React Queryãªã©ğŸ˜‰ï¼‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```js
//âœ… è‰¯ã„ä¾‹: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤–å´ã§columnsã‚’å®šç¾©
const columns = [
  // ...
];

//âœ… è‰¯ã„ä¾‹: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤–å´ã§dataã‚’å®šç¾©
const data = [
  // ...
];

// é€šå¸¸ã€columnsã¨dataã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§å®šç¾©ã™ã‚‹æ–¹ãŒå®Ÿç”¨çš„ãªã®ã§ã€`useMemo`ã‚„`useState`ã‚’ä½¿ç”¨ã—ã¦å®‰å®šã—ãŸå‚ç…§ã‚’æä¾›ã—ã¾ã™
export default function MyComponent() {
  //âœ… è‰¯ã„ä¾‹: `columns`ãŒå®‰å®šã—ãŸå‚ç…§ã‚’æŒã¤ãŸã‚ã€ç„¡é™ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ãŒç™ºç”Ÿã—ã¾ã›ã‚“
  const columns = useMemo(() => [
    // ...
  ], []);

  //âœ… è‰¯ã„ä¾‹: `data`ãŒå®‰å®šã—ãŸå‚ç…§ã‚’æŒã¤ãŸã‚ã€ç„¡é™ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ãŒç™ºç”Ÿã—ã¾ã›ã‚“
  const [data, setData] = useState(() => [
    // ...
  ]);

  // columnsã¨dataãŒå®‰å®šã—ãŸå‚ç…§ã‚’æŒã¤ãŸã‚ã€ç„¡é™ãƒ«ãƒ¼ãƒ—ãŒç™ºç”Ÿã—ã¾ã›ã‚“ï¼
  const table = useReactTable({
    columns,
    data,
  });

  return <table>...</table>;
}
```

### è½ã¨ã—ç©´2: columnsã‚„dataã‚’ç›´æ¥å¤‰æ›´ã™ã‚‹

åˆæœŸã®`columns`ã‚„`data`ã«å®‰å®šã—ãŸå‚ç…§ã‚’æä¾›ã—ã¦ã„ã¦ã‚‚ã€ãã‚Œã‚‰ã‚’ç›´æ¥å¤‰æ›´ã™ã‚‹ã¨ç„¡é™ãƒ«ãƒ¼ãƒ—ã«é™¥ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯æœ€åˆã¯æ°—ã¥ãã«ãã„è½ã¨ã—ç©´ã§ã™ã€‚å˜ç´”ãªã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã®`data.filter()`ã§ã•ãˆã€æ³¨æ„ã—ãªã„ã¨ç„¡é™ãƒ«ãƒ¼ãƒ—ã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

```js
export default function MyComponent() {
  //âœ… è‰¯ã„ä¾‹
  const columns = useMemo(() => [
    // ...
  ], []);

  //âœ… è‰¯ã„ä¾‹ (React Queryã¯è‡ªå‹•çš„ã«dataã«å®‰å®šã—ãŸå‚ç…§ã‚’æä¾›ã—ã¾ã™)
  const { data, isLoading } = useQuery({
    //...
  });

  const table = useReactTable({
    columns,
    //âŒ æ‚ªã„ä¾‹: `data`ãŒç›´æ¥å¤‰æ›´ã•ã‚Œã‚‹ãŸã‚ï¼ˆå®‰å®šã—ãŸå‚ç…§ãŒç ´å£Šã•ã‚Œã‚‹ï¼‰ã€ç„¡é™ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ãŒç™ºç”Ÿã—ã¾ã™
    data: data?.filter(d => d.isActive) ?? [],
  });

  return <table>...</table>;
}
```

### è§£æ±ºç­–2: ãƒ‡ãƒ¼ã‚¿å¤‰æ›ã‚’ãƒ¡ãƒ¢åŒ–ã™ã‚‹

ç„¡é™ãƒ«ãƒ¼ãƒ—ã‚’é˜²ããŸã‚ã«ã¯ã€ãƒ‡ãƒ¼ã‚¿å¤‰æ›ã‚’å¸¸ã«ãƒ¡ãƒ¢åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯`useMemo`ãªã©ã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
export default function MyComponent() {
  //âœ… è‰¯ã„ä¾‹
  const columns = useMemo(() => [
    // ...
  ], []);

  //âœ… è‰¯ã„ä¾‹
  const { data, isLoading } = useQuery({
    //...
  });

  //âœ… è‰¯ã„ä¾‹: `filteredData`ãŒãƒ¡ãƒ¢åŒ–ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ç„¡é™ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ãŒç™ºç”Ÿã—ã¾ã›ã‚“
  const filteredData = useMemo(() => data?.filter(d => d.isActive) ?? [], [data]);

  const table = useReactTable({
    columns,
    data: filteredData, // å®‰å®šã—ãŸå‚ç…§ï¼
  });

  return <table>...</table>;
}
```

### React Forget

React ForgetãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã‚Œã°ã€ã“ã‚Œã‚‰ã®å•é¡Œã¯éå»ã®ã‚‚ã®ã«ãªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã¾ãŸã¯Solid.jsã‚’ä½¿ã†ã®ã‚‚æ‰‹ã§ã™... ğŸ¤“

## ãƒ‡ãƒ¼ã‚¿å¤‰æ›´æ™‚ã«ãƒ†ãƒ¼ãƒ–ãƒ«ã®çŠ¶æ…‹ãŒè‡ªå‹•ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã®ã‚’é˜²ãæ–¹æ³•

ã»ã¨ã‚“ã©ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«é€šå¸¸ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã¹ãçŠ¶æ…‹ã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€å¤–éƒ¨ã§ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã¦ã„ã‚‹å ´åˆã‚„ã€ãƒ‡ãƒ¼ã‚¿ã‚’ä¸å¤‰çš„ã«ç·¨é›†ã—ãªãŒã‚‰è¡¨ç¤ºã—ã¦ã„ã‚‹å ´åˆã€ã¾ãŸã¯å˜ã«ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦è‡ªå‹•çš„ã«ãƒ†ãƒ¼ãƒ–ãƒ«ã®çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆã•ã›ãŸããªã„æ“ä½œã‚’è¡Œã£ã¦ã„ã‚‹å ´åˆã«ã¯ã€ã“ã‚Œã‚’æŠ‘åˆ¶ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

ãã®ã‚ˆã†ãªçŠ¶æ³ã§ã¯ã€å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ãƒ‡ãƒ¼ã‚¿ã‚„ä»–ã®ä¾å­˜é–¢ä¿‚ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«å†…éƒ¨ã§çŠ¶æ…‹ãŒè‡ªå‹•ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã®ã‚’ç„¡åŠ¹ã«ã™ã‚‹æ–¹æ³•ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ã„ãšã‚Œã‹ã‚’`false`ã«è¨­å®šã™ã‚‹ã“ã¨ã§ã€è‡ªå‹•ãƒªã‚»ãƒƒãƒˆãŒãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã‚‹ã®ã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚

ä»¥ä¸‹ã¯ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®`data`ã‚½ãƒ¼ã‚¹ã‚’ç·¨é›†ã—ã¦ã„ã‚‹é–“ã«ã€é€šå¸¸ç™ºç”Ÿã™ã‚‹ã™ã¹ã¦ã®çŠ¶æ…‹å¤‰æ›´ã‚’åŸºæœ¬çš„ã«åœæ­¢ã™ã‚‹Reactãƒ™ãƒ¼ã‚¹ã®ä¾‹ã§ã™:

```js
const [data, setData] = React.useState([])
const skipPageResetRef = React.useRef()

const updateData = newData => {
  // ã“ã®é–¢æ•°ã§ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚Œã‚‹ã¨ãã€ã™ã¹ã¦ã®è‡ªå‹•ãƒªã‚»ãƒƒãƒˆã‚’ç„¡åŠ¹ã«ã™ã‚‹ãƒ•ãƒ©ã‚°ã‚’è¨­å®šã—ã¾ã™
  skipPageResetRef.current = true

  setData(newData)
}

React.useEffect(() => {
  // ãƒ†ãƒ¼ãƒ–ãƒ«ãŒæ›´æ–°ã•ã‚ŒãŸå¾Œã€å¸¸ã«ãƒ•ãƒ©ã‚°ã‚’å‰Šé™¤ã—ã¾ã™
  skipPageResetRef.current = false
})

useReactTable({
  ...
  autoResetPageIndex: !skipPageResetRef.current,
  autoResetExpanded: !skipPageResetRef.current,
})
```

ã“ã‚Œã§ã€ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã—ã¦ã‚‚ä¸Šè¨˜ã®ãƒ†ãƒ¼ãƒ–ãƒ«çŠ¶æ…‹ã¯è‡ªå‹•çš„ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã›ã‚“ï¼
